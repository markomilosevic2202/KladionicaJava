<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">


<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

<style>


</style>


<body>
<header h1>


    <nav class="nav1">
    <a href="/">
    <img class="ppp2 ccc" src="/ball.png" alt="Slika" width="70" height="70">  </a>
    <span class="ppp1 ccc">Welcome to Kladionica</span>

    <span class="ppp ccc"> <a th:href="@{/}"
                              class="btn btn-primary btn-sm mb-3"> <img th:src="@{/back.webp}" alt="Slika" width="20" height="20">Back</a></span>
    <span class="ppp ccc"><a th:href="@{/matches/refresh-match}" class="btn btn-primary btn-sm mb-3"><img src="/refresh.png" alt="Slika" width="20" height="20"><span class="button2">Refrešuj Mečev</span> </a></span>
    <span class="ppp ccc"><a th:href="@{/matches/refresh-quota}" class="btn btn-primary btn-sm mb-3"><img src="/refresh.png" alt="Slika" width="20" height="20"><span class="button2">Refrešuj Kvote</span></a></span>
<!--    <span class="ppp ccc"><a th:href="@{/register}" class="btn btn-primary btn-sm mb-3"></a></span>-->
<!--    <span class="ppp ccc"><a th:href="@{/image/show}" class="btn btn-primary btn-sm mb-3"></a></span>-->





     <span class="ppp ccc">
            <a href="javascript:void(0);" class="btn btn-primary btn-sm mb-3" onclick="document.getElementById('logoutForm').submit();">
                <img src="/back.webp" alt="Slika" width="20" height="20">
                <span class="button2">Log Out</span>
            </a>
        </span>
    <span class="ppp ccc">Dobro došli: <span sec:authentication="principal.username"></span></span></span>
<!--    <span class="ppp ccc">User: <span sec:authentication="principal.authorities"></span></span></span>-->

  <span class="ppp ccc">
    <div class="profile-container">
        <a type="button" class="hidden-button" onclick="toggleDropdown()">
            <img class="profile-circle" src="/marko-milosevic.jpeg" alt="Slika profila" width="40" height="40" id="profile-image">
        </a>
        <div class="dropdown" id="profile-dropdown">
            <div class="dropdown-content" id="dropdown-content">
                <a class="btn-primary " href="#">Izmeni Profil</a>
                <a href="javascript:void(0);" class="btn-primary" onclick="document.getElementById('logoutForm').submit();">Logout</a>
            </div>
        </div>
    </div>
</span>



        <script>
function toggleDropdown() {
    var dropdown = document.getElementById("dropdown-content");
    if (dropdown.style.display === "block") {
        dropdown.style.display = "none";
    } else {
        dropdown.style.display = "block";
    }
}

// Zatvori padajući meni ako se klikne bilo gde izvan njega
document.addEventListener("click", function(event) {
    var dropdown = document.getElementById("dropdown-content");
    var button = document.getElementById("profile-image");

    if (!button.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.style.display = "none";
    }
});


</script>



        <form action="#" th:action="@{/logout}" method="post" id="logoutForm">
        <!-- Dodajte skriveni input za CSRF token ako je potreban -->
        <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}">
    </form>





    </nav>
    <hr>


</header>



</body>
</html>

